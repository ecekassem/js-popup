function pops(options)
{
	var defaults =
	{
		dirc: 'ltr',
		wsub: 100,
		hsub: 100,
		tsub: 0,
		xsub: 0,
		wbox: 50,
		hbox: 50,
		ovrl: true,
		opct: 0.4,
		htit: 20,
		tpad: '10px',
		tbco: '#B6B6B6',
		tclr: '#000',
		mpad: '10px',
		mbco: '#E1E1E1',
		mclr: '#000',
		titl: '',
		mesg: '',
		refr: false,
		time: 0,
		anim: 'CC'
	}
	Extd(defaults,options);
	Gwin();
	if((defaults.wsub*(w/100)<=w) && (defaults.hsub*(h/100)<=h))
	{
		if((defaults.wbox<=defaults.wsub) && (defaults.hbox<=defaults.hsub))
		{
			try {Exit();}catch(err){}
			if(defaults.ovrl)
			{
				O = Celm ("DIV");
				Smrg (O,0);
				Spad (O,0);
				Spos (O,"fixed");
				Szdx (O,99997);
				Sewd (O,"100%");
				Seht (O,"100%");
				Setp (O,0);
				Self (O,0);
				Sebk (O,defaults.tbco);
				Seop (O,0.4);
				O.addEventListener("click",Exit);
			}
			E = Celm ("DIV");
			Smrg (E,0);
			Spad (E,0);
			Spos (E,"fixed");
			Sdno (E);
			Szdx (E,99998);
			ybox = Math.floor(defaults.tsub + (defaults.hsub-defaults.hbox)/2);
			xbox = Math.floor(defaults.xsub + (defaults.wsub-defaults.wbox)/2);
			Sdir (E,defaults.dirc);
			if(defaults.time == 0)
			{
				Sewd (E,defaults.wbox+"%");
				Seht (E,defaults.hbox+"%");
				if(defaults.dirc == "ltr"){Self (E,xbox+"%");}
				else if (defaults.dirc == "rtl"){Sert (E,xbox+"%");}
				Setp (E,ybox+"%");
			}
			else
			{
				switch (defaults.anim.toLowerCase())
				{
					case 'tl':
					Sewd (E,"0%");
					Seht (E,"0%");
					yo = ybox;
					if(defaults.dirc == "ltr"){xo = xbox;Self (E,xo+"%");}
					else if (defaults.dirc == "rtl"){xo = xbox+defaults.wbox;Sert (E,xo+"%");}
					Setp (E,ybox+"%");
					animate({delay: 10,duration: defaults.time,delta: function(p) {return p},step: function(delta) {Sewd (E,delta*defaults.wbox+"%");Seht (E,delta*defaults.hbox+"%");if (defaults.dirc == "rtl"){Sert (E,xbox+(xo-xbox)*(1-delta)+"%");}}});
					break;
					case 'tr':
					Sewd (E,"0%");
					Seht (E,"0%");
					yo = ybox;
					if(defaults.dirc == "ltr"){xo = xbox+defaults.wbox;Self (E,xo+"%");}
					else if (defaults.dirc == "rtl"){xo = xbox;Sert (E,xo+"%");}
					Setp (E,ybox+"%");
					animate({delay: 10,duration: defaults.time,delta: function(p) {return p},step: function(delta) {Sewd (E,delta*defaults.wbox+"%");Seht (E,delta*defaults.hbox+"%");if (defaults.dirc == "ltr"){Self (E,xbox+(xo-xbox)*(1-delta)+"%");}}});
					break;
					case 'br':
					Sewd (E,"0%");
					Seht (E,"0%");
					yo = ybox+defaults.hbox;
					if(defaults.dirc == "ltr"){xo = xbox+defaults.wbox;Self (E,xo+"%");}
					else if (defaults.dirc == "rtl"){xo = xbox;Sert (E,xo+"%");}
					Setp (E,yo+"%");
					animate({delay: 10,duration: defaults.time,delta: function(p) {return p},step: function(delta) {Sewd (E,delta*defaults.wbox+"%");Seht (E,delta*defaults.hbox+"%");Setp (E,ybox+(yo-ybox)*(1-delta)+"%");if (defaults.dirc == "ltr"){Self (E,xbox+(xo-xbox)*(1-delta)+"%");}}});
					break;
					case 'bl':
					Sewd (E,"0%");
					Seht (E,"0%");
					yo = ybox+defaults.hbox;
					if(defaults.dirc == "ltr"){xo = xbox;Self (E,xo+"%");}
					else if (defaults.dirc == "rtl"){xo = xbox+defaults.wbox;Sert (E,xo+"%");}
					Setp (E,yo+"%");
					animate({delay: 10,duration: defaults.time,delta: function(p) {return p},step: function(delta) {Sewd (E,delta*defaults.wbox+"%");Seht (E,delta*defaults.hbox+"%");Setp (E,ybox+(yo-ybox)*(1-delta)+"%");if (defaults.dirc == "rtl"){Sert (E,xbox+(xo-xbox)*(1-delta)+"%");}}});
					break;
					case 'impulse':
					Sewd (E,"0%");
					Seht (E,defaults.hbox+"%");
					yo = ybox;
					xo = Math.floor(xbox + defaults.wbox/2);
					animate({delay: 10,duration: defaults.time,delta: function(p) {return p},step: function(delta) {if(defaults.dirc == "ltr"){Self (E,xbox+(xo-xbox)*(1-delta)+"%");}else if (defaults.dirc == "rtl"){Sert (E,xbox+(xo-xbox)*(1-delta)+"%");}Setp (E,ybox+(yo-ybox)*(1-delta)+"%");Sewd (E,delta*defaults.wbox+"%");}});
					break;
					case 'dc':
					Sewd (E,defaults.wbox+"%");
					Seht (E,"0%");
					yo = Math.floor(ybox + defaults.hbox/2);
					xo = xbox;
					animate({delay: 10,duration: defaults.time,delta: function(p) {return p},step: function(delta) {if(defaults.dirc == "ltr"){Self (E,xbox+(xo-xbox)*(1-delta)+"%");}else if (defaults.dirc == "rtl"){Sert (E,xbox+(xo-xbox)*(1-delta)+"%");}Setp (E,ybox+(yo-ybox)*(1-delta)+"%");Seht (E,delta*defaults.hbox+"%");}});
					break;
					case 'ts':
					Sewd (E,defaults.wbox+"%");
					Seht (E,"0%");
					yo = ybox;
					xo = xbox;
					if(defaults.dirc == "ltr"){Self (E,xo+"%");}
					else if (defaults.dirc == "rtl"){Sert (E,xo+"%");}
					Setp (E,ybox+"%");
					animate({delay: 10,duration: defaults.time,delta: function(p) {return p},step: function(delta) {Seht (E,delta*defaults.hbox+"%");}});
					break;
					case 'rs':
					Sewd (E,"0%");
					Seht (E,defaults.hbox+"%");
					yo = ybox;
					if(defaults.dirc == "ltr"){xo = xbox+defaults.wbox;Self (E,xo+"%");}
					else if (defaults.dirc == "rtl"){xo = xbox;Sert (E,xo+"%");}
					Setp (E,ybox+"%");
					animate({delay: 10,duration: defaults.time,delta: function(p) {return p},step: function(delta) {Sewd (E,delta*defaults.wbox+"%");if (defaults.dirc == "ltr"){Self (E,xbox+(xo-xbox)*(1-delta)+"%");}}});
					break;
					case 'bs':
					Sewd (E,defaults.wbox+"%");
					Seht (E,"0%");
					yo = ybox+defaults.hbox;
					xo = xbox;
					if(defaults.dirc == "ltr"){Self (E,xo+"%");}
					else if (defaults.dirc == "rtl"){xo = xbox;Sert (E,xo+"%");}
					Setp (E,yo+"%");
					animate({delay: 10,duration: defaults.time,delta: function(p) {return p},step: function(delta) {Seht (E,delta*defaults.hbox+"%");Setp (E,ybox+(yo-ybox)*(1-delta)+"%");}});
					break;
					case 'ls':
					Sewd (E,"0%");
					Seht (E,defaults.hbox+"%");
					yo = ybox;
					if(defaults.dirc == "ltr"){xo = xbox;Self (E,xo+"%");}
					else if (defaults.dirc == "rtl"){xo = xbox+defaults.wbox;Sert (E,xo+"%");}
					Setp (E,yo+"%");
					animate({delay: 10,duration: defaults.time,delta: function(p) {return p},step: function(delta) {Sewd (E,delta*defaults.wbox+"%");if (defaults.dirc == "rtl"){Sert (E,xbox+(xo-xbox)*(1-delta)+"%");}}});
					break;
					case 'ft':
					Sewd (E,defaults.wbox+"%");
					Seht (E,defaults.hbox+"%");
					yo = -1*(defaults.hbox+ybox);
					xo = xbox;
					if(defaults.dirc == "ltr"){Self (E,xo+"%");}
					else if (defaults.dirc == "rtl"){Sert (E,xo+"%");}
					Setp (E,yo+"%");
					animate({delay: 10,duration: defaults.time,delta: function(p) {return p},step: function(delta) {Setp (E,delta*(2*ybox+defaults.hbox)+yo+"%");}});
					break;
					case 'fr':
					Sewd (E,defaults.wbox+"%");
					Seht (E,defaults.hbox+"%");
					yo = ybox;
					if(defaults.dirc == "ltr"){xo = 100;Self (E,xo+"%");}
					else if (defaults.dirc == "rtl"){xo = -1*(xbox+defaults.wbox);Sert (E,xo+"%");}
					Setp (E,ybox+"%");
					animate({delay: 10,duration: defaults.time,delta: function(p) {return p},step: function(delta) {if (defaults.dirc == "ltr"){Self (E,xo-delta*(xo-xbox)+"%");}else if (defaults.dirc == "rtl"){Sert (E,xo+delta*(xbox-xo)+"%");}}});
					break;
					case 'fb':
					Sewd (E,defaults.wbox+"%");
					Seht (E,defaults.hbox+"%");
					yo = 100;
					xo = xbox;
					if(defaults.dirc == "ltr"){Self (E,xo+"%");}
					else if (defaults.dirc == "rtl"){Sert (E,xo+"%");}
					Setp (E,yo+"%");
					animate({delay: 10,duration: defaults.time,delta: function(p) {return p},step: function(delta) {Setp (E,yo-delta*(yo-ybox)+"%");}});
					break;
					case 'fl':
					Sewd (E,defaults.wbox+"%");
					Seht (E,defaults.hbox+"%");
					yo = ybox;
					if(defaults.dirc == "ltr"){xo = -1*(xbox+defaults.wbox);Self (E,xo+"%");}
					else if (defaults.dirc == "rtl"){xo = 100;Sert (E,xo+"%");}
					Setp (E,ybox+"%");
					animate({delay: 10,duration: defaults.time,delta: function(p) {return p},step: function(delta) {if (defaults.dirc == "ltr"){Self (E,xo+delta*(xbox-xo)+"%");}else if (defaults.dirc == "rtl"){Sert (E,xo-delta*(xo-xbox)+"%");}}});
					break;
					default:
					Sewd (E,"0%");
					Seht (E,"0%");
					yo = Math.floor(ybox + defaults.hbox/2);
					xo = Math.floor(xbox + defaults.wbox/2);
					animate({delay: 10,duration: defaults.time,delta: function(p) {return p},step: function(delta) {if(defaults.dirc == "ltr"){Self (E,xbox+(xo-xbox)*(1-delta)+"%");}else if (defaults.dirc == "rtl"){Sert (E,xbox+(xo-xbox)*(1-delta)+"%");}Setp (E,ybox+(yo-ybox)*(1-delta)+"%");Sewd (E,delta*defaults.wbox+"%");Seht (E,delta*defaults.hbox+"%");}});
					break;
				}
			}
			Siht(E,"<div id='tbox'><div id='tcon'></div></div><div id='mbox'><div id='mcon'></div></div>");
			T = Sbid("tbox");
			M = Sbid("mbox");
			L = Sbid("tcon");
			C = Sbid("mcon");
			Sdis (T,"table-row");
			Sewd (T,"100%");
			Seht (T,defaults.htit+"%");
			Sebk (T,defaults.tbco);
			Seco (T,defaults.tclr);
			Sdis (M,"table-row");
			Sewd (M,"100%");
			Seht (M,(100-defaults.htit)+"%");
			Sebk (M,defaults.mbco);
			Seco (M,defaults.mclr);
			Sdis (L,"table-cell");
			Sver (L,"middle");
			if(defaults.htit>0)
				Spad (L,defaults.tpad);
			Sdis (C,"table-cell");
			Sver (C,"middle");
			Spad (C,defaults.mpad);
			Sbor (C,"6px "+defaults.tbco+" solid");
			Sdis (E,"table");
			X = Celm ("DIV");
			Spos (X,"fixed");
			Spad (X,"0 5px");
			Sebk (X,"#f00");
			Xxxx = 100 - (defaults.wbox + xbox);
			if(defaults.dirc == "ltr"){Sert (X,Xxxx-1+"%");}
			else if (defaults.dirc == "rtl"){Self (X,Xxxx-1+"%");}
			Setp (X,ybox-1+"%");
			Szdx (X,99999);
			Scrs (X,"pointer");
			Sitx (X,"X");
			Sefz (X,"24px");
			Sali (X,"center");
			Seco (X,"#fff");
			Sbor (X,"6px "+defaults.tbco+" solid");
			Sfly (X,"Tahoma");
			Sfwt (X,"bold");
			Sdno (X);
			var it = setInterval(function(){Sdis(X,"block");Siht (L,defaults.titl);Siht (C,defaults.mesg);clearInterval(it);},defaults.time);
			X.addEventListener("click",Exit);
			function Exit(){try {Soht(O,"");}catch(err){}Soht(E,"");Soht(X,"");if(defaults.refr){location.reload();}}
		}
		else{alert("Popup window size is invalid!");}
	}
	else{alert("Screen size is invalid!");}
	function Sbid (Id){return document.getElementById(Id);}
	function Extd(a, b){for(var key in b){if(b.hasOwnProperty(key)){a[key] = b[key];}}return a;}
	function Gwin(){w = window.innerWidth;h = window.innerHeight;}
	function Celm (Tag){var Vnam = document.createElement(Tag);document.body.appendChild(Vnam);return Vnam;}
	function Smrg (Selected,Margin){Selected.style.margin = Margin;}
	function Spad (Selected,Padding){Selected.style.padding = Padding;}
	function Sbor (Selected,Border){Selected.style.border = Border;}
	function Sbrd (Selected,BorderRadius){Selected.style.borderRadius = BorderRadius;}
	function Spos (Selected,Position){Selected.style.position = Position;}
	function Self (Selected,Left){Selected.style.left = Left;}
	function Sert (Selected,Right){Selected.style.right = Right;}
	function Setp (Selected,Top){Selected.style.top = Top;}
	function Sewd (Selected,Width){Selected.style.width = Width;}
	function Seht (Selected,Height){Selected.style.height = Height;}
	function Sdis (Selected,Display){Selected.style.display = Display;}
	function Sdno (Selected){Selected.style.display = "none";}
	function Sdir (Selected,Direction){Selected.style.direction = Direction;}
	function Seco (Selected,Color){Selected.style.color = Color;}
	function Sebk (Selected,Bkco){Selected.style.backgroundColor = Bkco;}
	function Seop (Selected,Opacity){Selected.style.opacity = Opacity;}
	function Sali (Selected,Alignment){Selected.style.textAlign = Alignment;}
	function Sver (Selected,VerticalAlign){Selected.style.verticalAlign = VerticalAlign;}
	function Scrs (Selected,Cursor){Selected.style.cursor = Cursor;}
	function Sfly (Selected,FontFamily){Selected.style.fontFamily = FontFamily;}
	function Sfwt (Selected,FontWeight){Selected.style.fontWeight = FontWeight;}
	function Sitx(Selected,InnerText){Selected.innerText = InnerText;}
	function Siht(Selected,InnerHTML){Selected.innerHTML = InnerHTML;}
	function Soht(Selected,OuterHTML){Selected.outerHTML = OuterHTML;}
	function Sefz(Selected,FontSize){Selected.style.fontSize = FontSize;}
	function Szdx (Selected,ZIndix){Selected.style.zIndex = ZIndix;}
	function animate(opts){var start = new Date;var id = setInterval(function(){var timePassed = new Date - start;var progress = timePassed / opts.duration;if (progress > 1){progress = 1;}var delta = opts.delta(progress);opts.step(delta);if (progress == 1){clearInterval(id)}}, opts.delay || 10);}
}
